<source>
  @type tail
  path /opt/recipe.json
  tag /opt/recipe.json
  read_from_head true
  <parse>
    @type json
    time_key time
    time_format %iso8601
  </parse>
</source>

# accept all log events regardless of tag and write them to the console
<match **>
  @type kafka2

  brokers 10.0.100.23:9092 
  
  #topic 
  topic_key	Recipes
  default_topic Recipes
  
  use_event_time true

  <buffer topic>
  	@type file
	path /var/log/td-agent/buffer/td
	flush_interval 3s
  </buffer>

  <format>
    @type json
  </format>
  
  compression_codec gzip
</match>

